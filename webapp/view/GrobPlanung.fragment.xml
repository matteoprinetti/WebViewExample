<core:FragmentDefinition xmlns:mvc="sap.ui.core.mvc" xmlns:html="http://www.w3.org/1999/xhtml" displayBlock="true" xmlns="sap.m"
	xmlns:semantic="sap.m.semantic" xmlns:ism="zism.zismlibrary.controls" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout" xmlns:grid="sap.ui.layout.cssgrid" xmlns:dnd="sap.ui.core.dnd" xmlns:uxap="sap.uxap"
	xmlns:poly="zpoly.zpolyplanung.controls" xmlns:smart="sap.ui.comp.smarttable" xmlns:smartFilter="sap.ui.comp.smartfilterbar"
	xmlns:fb="sap.ui.comp.filterbar" xmlns:ui="sap.ui">
	<FlexBox direction="Row" alignItems="Center" class="sapUiResponsiveMargin">
		<items>
			<Label text="{i18n>FilialenAuswahl}" labelFor="filialeInput" class="sapUiSmallMargin"/>
			<Text id="filialeInputGrob" text='{local>/Filiale}'/>
			<Text id="filialeInputDescrGrob" text="{local>/FilialeDescr}" class="sapUiSmallMargin"/>
			<DatePicker id="calenderAuswahlGrob" placeholder="{i18n>Kalenderwoche}" displayFormat="w.YYYY" valueFormat="wwYYYY" class="sapUiSmallMargin"
				value="{local>/CalWeek}" editable="false" width="40%" />
			<Label text="{i18n>PPFlaeche}" class="sapUiSmallMargin"/>
			<Select id="selPP" enabled="true" forceSelection="false" selectedKey="{local>/selectedPPF}" change="onPPSelectedGrob"
				class="sapUiSmallMargin"></Select>
		</items>
	</FlexBox>
	<l:Splitter id="idSplitter">
		<IconTabBar id="idSelAngTabBar" expanded="true" expandable="false" select="onAngebotBarSelect">
			<items>
				<IconTabFilter text="Angebote" key="Angebote">
					<!--<ScrollContainer id="idAngeboteContainer" vertical="true" horizontal="true" focusable="true">-->
					<FlexBox alignItems="Start">
						<CheckBox id="idZugewiesene" text="Zugewiesene" selected="true" select="onSearch">
							<layoutData>
								<FlexItemData growFactor="1"/>
							</layoutData>
							<dependents>
								<ResponsivePopover id="defaultPopover" showHeader="false">
									<content>
										<List id="defaultPopoverList"/>
									</content>
								</ResponsivePopover>
							</dependents>
						</CheckBox>
						<CheckBox id="idUngeplant" text="Ungeplante" selected="true" select="onSearch">
							<layoutData>
								<FlexItemData growFactor="1"/>
							</layoutData>
						</CheckBox>
						<SearchField id="idSelSearch" value="" search="onSearch">
							<layoutData>
								<FlexItemData growFactor="4"/>
							</layoutData>
						</SearchField>
						<Button id="addPlaceholderBtn" text="Platzhalter" icon="sap-icon://add" class="sapUiSmallMarginBegin" press="onBtnAddPlaceholderPress">
							<layoutData>
								<FlexItemData growFactor="1"/>
							</layoutData>
						</Button>
					</FlexBox>
					<Table id="AngeboteTableHead" showNoData="false">
						<columns>
							<Column width="10%">
								<Text text=""/>
							</Column>
							<Column width="35%">
								<Text text="Angebot"/>
								<customData>
									<core:CustomData key="p13nData"
										value='\{"sortProperty": "OfrName", "filterProperty": "OfrName", "columnKey": "OfrName", "leadingProperty": "OfrName" , "columnIndex":"1"}'/>
								</customData>
							</Column>
							<Column width="35%">
								<Text text="Kampagne"/>
							</Column>
							<Column width="20%">
								<customData>
									<core:CustomData key="p13nData"
										value='\{"sortProperty": "PromoTypeTxt", "filterProperty": "PromoTypeTxt", "columnKey": "PromoTypeTxt", "leadingProperty": "PromoTypeTxt" , "columnIndex":"3"}'/>
								</customData>
								<Text text="Art"/>
							</Column>
							<!--<Column width="15%">
								<Text text="Prognose"/>
							</Column>-->
						</columns>
					</Table>
					<ScrollContainer vertical="true" focusable="true" height="550px">
						<!--<smart:SmartTable id="AngeboteTable" beforeRebindTable="onBeforeRebindAngeboteTable" entitySet="OfrHeadSet" enableAutoBinding="false"
							useTablePersonalisation="false" useExportToExcel="false" useOnlyOneSolidToolbar="false" showTablePersonalisation="false"
						
							requestAtLeastFields="ZzExtOfrId,Startdat,Enddat,OfrName,PromoType,PromoTypeTxt,OfferGuid,toCampaign/CampaignId,toCampaign/CampaignName">-->
						<Table id="PlatzhalterAngeboteTable" showNoData="false" visible="false">
							<dragDropConfig>
								<dnd:DragInfo groupName="itemsgroup" sourceAggregation="items"/>
								<dnd:DropInfo drop="onStellPlatzItemDelete"/>
							</dragDropConfig>
							<columns>
								<Column width="10%"></Column>
								<Column width="35%"></Column>
								<Column width="35%"></Column>
								<Column width="20%"></Column>
							</columns>
							<items>
								<ColumnListItem id="PlatzhalterAngeboteTableColumnListItem">
									<cells>
										<poly:IconHover src="{ parts: [ { path: 'BisWoche' } , { path: 'local>/CalWeek' }] , formatter: '.formatter.getPlatzhalterAngebotStatus'}"
											color="{ parts: [ { path: 'BisWoche' } , { path: 'local>/CalWeek' }] , formatter: '.formatter.getPlatzhalterAngebotColor'}" size="2.5em"
											class="zPolyIconHover"></poly:IconHover>
										<StandardListItem title="{Bezeichnung}" class="zPolySqueezedArticle" wrapping="true">
											<customData>
												<core:CustomData key="offerguid" value="{PlatzhalterId}"/>
											</customData>
										</StandardListItem>
										<ObjectIdentifier text="Gültig bis {BisWoche}"/>
										<Text text="PH"/>
										<!--<Text text="{path: 'Prognose', formatter: '.formatter.stripTrailingZeroes' }"/>-->
									</cells>
								</ColumnListItem>
							</items>
						</Table>
						<Table id="AngeboteTable">
							<dragDropConfig>
								<dnd:DragInfo groupName="itemsgroup" sourceAggregation="items"/>
								<dnd:DropInfo drop="onStellPlatzItemDelete"/>
							</dragDropConfig>
							<columns>
								<Column width="10%"></Column>
								<Column width="35%"></Column>
								<Column width="35%"></Column>
								<Column width="20%"/>
							</columns>
							<items>
								<ColumnListItem id="AngeboteTableColumnListItem">
									<cells>
										<poly:IconHover src="{ parts: [ {path: 'Startdat' }, { path: 'Enddat' } , { path: 'Duration' } ], formatter: '.formatter.getAngebotStatus'}"
											color="{ parts: [ {path: 'Startdat' }, { path: 'Enddat' } , { path: 'Duration' }], formatter: '.formatter.getAngebotColor'}" size="2.5em"
											hover="onAngebotSelectIconHover" class="zPolyIconHover"></poly:IconHover>
										<StandardListItem title="{OfrName}" description="{ZzExtOfrId}" class="zPolySqueezedArticle" wrapping="true">
											<customData>
												<core:CustomData key="offerguid" value="{OfferGuid}"/>
											</customData>
										</StandardListItem>
										<ObjectIdentifier text="{ parts: [ { path: 'toCampaign' } ], formatter: '.formatter.getFirstCampaignId' }"
											title="{ parts: [ { path: 'toCampaign' } ], formatter: '.formatter.getFirstCampaignName' }"/>
										<Text text="{path: 'PromoTypeTxt', formatter: '.formatter.getFirstWord' }"/>
										<!--<Text text="{path: 'Prognose', formatter: '.formatter.stripTrailingZeroes' }"/>-->
									</cells>
								</ColumnListItem>
							</items>
						</Table>
						<!--	<smart:layoutData>
								<FlexItemData growFactor="1" baseSize="0%"/>
							</smart:layoutData>
					</smart:SmartTable>-->
					</ScrollContainer>
				</IconTabFilter>
				<IconTabFilter text="Artikel ohne Angebote" key="Artikel">
					<SearchField width="90%" class="sapUiSmallMargin" search="onArtikelSearch"/>
					<ScrollContainer height="500px" width="100%" vertical="true" focusable="true">
						<List id="idArtikelList">
							<dragDropConfig>
								<dnd:DragInfo groupName="itemsgroup" sourceAggregation="items"/>
								<dnd:DropInfo drop="onStellPlatzItemDelete"/>
							</dragDropConfig>
						</List>
					</ScrollContainer>
				</IconTabFilter>
			</items>
			<layoutData>
				<l:SplitterLayoutData size="50%" resizable="false"/>
			</layoutData>
		</IconTabBar>
		<VBox>
			<Label text="Stellplätze"></Label>
			<items>
				<ScrollContainer id="idStellPlatzContainer" vertical="true" height="700px">
					<List id="idStellPlatz"></List>
				</ScrollContainer>
				<!--<poly:StellPlatz id="IdStellPlatz"></poly:StellPlatz>-->
			</items>
			<layoutData>
				<l:SplitterLayoutData size="50%" resizable="false"/>
			</layoutData>
		</VBox>
	</l:Splitter>
</core:FragmentDefinition>