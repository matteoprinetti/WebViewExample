<core:FragmentDefinition xmlns:mvc="sap.ui.core.mvc" xmlns:html="http://www.w3.org/1999/xhtml" displayBlock="true" xmlns="sap.m"
	xmlns:semantic="sap.m.semantic" xmlns:ism="zism.zismlibrary.controls" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout" xmlns:grid="sap.ui.layout.cssgrid" xmlns:dnd="sap.ui.core.dnd" xmlns:uxap="sap.uxap"
	xmlns:poly="zpoly.zpolyplanung.controls" xmlns:smart="sap.ui.comp.smarttable" xmlns:smartFilter="sap.ui.comp.smartfilterbar"
	xmlns:fb="sap.ui.comp.filterbar" xmlns:ui="sap.ui">
	<FlexBox direction="Row" alignItems="Center" class="sapUiResponsiveMargin">
		<items>
			<Label text="{i18n>FilialenAuswahl}" labelFor="filialeInput" class="sapUiSmallMargin"/>
			<Text id="filialeInputGrob" text='{local>/Filiale}'/>
			<Text id="filialeInputDescrGrob" text="{local>/FilialeDescr}" class="sapUiSmallMargin"/>
			<DatePicker id="calenderAuswahlGrob" placeholder="{i18n>Kalenderwoche}" displayFormat="w.YYYY" valueFormat="wwYYYY" class="sapUiSmallMargin"
				value="{local>/CalWeek}" editable="false" width="40%"/>
			<Label text="{i18n>PPFlaeche}" class="sapUiSmallMargin"/>
			<Select id="selPP" enabled="true" forceSelection="false" selectedKey="{local>/selectedPPF}" change="onPPSelected" class="sapUiSmallMargin"></Select>
		</items>
	</FlexBox>
	<l:Splitter id="idSplitter">
		<IconTabBar id="idSelAngTabBar" class="sapUiResponsiveContentPadding" expanded="true" expandable="false" select="onAngebotBarSelect">
			<items>
				<IconTabFilter text="Angebote" key="Angebote">
					<ScrollContainer id="idAngeboteContainer" vertical="true" focusable="true">
						<fb:FilterBar reset="onReset" search="onSearch" showRestoreButton="true" showClearButton="true" showGoOnFB="true"
							filterContainerWidth="10rem">
							<fb:filterGroupItems>
								<fb:FilterGroupItem groupName="__$INTERNAL$" name="9" label="Selektion" partOfCurrentVariant="true" visibleInFilterBar="true">
									<fb:control>
										<CheckBox text="Alle Angebote" selected="true" />
									</fb:control>
								</fb:FilterGroupItem>
								<fb:FilterGroupItem groupName="__$INTERNAL$" name="S" label="Status" partOfCurrentVariant="true" visibleInFilterBar="true">
									<fb:control>
										<Select class="zPolyFilterSelect">
											<items>
												<core:Item/>
												<core:ListItem icon="sap-icon://status-positive"/>
												<core:ListItem icon="sap-icon://physical-activity"/>
												<core:ListItem icon="sap-icon://past"/>
												<core:ListItem icon="sap-icon://stop"/>
											</items>
										</Select>
									</fb:control>
								</fb:FilterGroupItem>
								<fb:FilterGroupItem groupName="__$INTERNAL$" name="B" label="Angebot" partOfCurrentVariant="true" visibleInFilterBar="true">
									<fb:control>
										<Input value=""/>
									</fb:control>
								</fb:FilterGroupItem>
								<fb:FilterGroupItem groupName="__$INTERNAL$" name="K" label="Kampagne" partOfCurrentVariant="true" visibleInFilterBar="true">
									<fb:control>
										<Input value=""/>
									</fb:control>
								</fb:FilterGroupItem>
								<fb:FilterGroupItem groupName="__$INTERNAL$" name="R" label="Angebotsart" partOfCurrentVariant="true" visibleInFilterBar="true">
									<fb:control>
										<Select width="15%">
											<items>
												<core:Item text=""/>
												<core:Item text="CAKT"/>
												<core:Item text="CUMX"/>
												<core:Item text="GUTX"/>
												<core:Item text="GRAB"/>
												<core:Item text="SA"/>
												<core:Item text="SE"/>
												<core:Item text="SORT"/>
												<core:Item text="XFY"/>
											</items>
										</Select>
									</fb:control>
								</fb:FilterGroupItem>
							</fb:filterGroupItems>
						</fb:FilterBar>
						<smart:SmartTable id="AngeboteTable" beforeRebindTable="onBeforeRebindAngeboteTable" entitySet="OfrHeadSet" enableAutoBinding="false"
							useTablePersonalisation="false" useExportToExcel="false" useOnlyOneSolidToolbar="true" showTablePersonalisation="false"
							tableType="ResponsiveTable"
							requestAtLeastFields="ZzExtOfrId,Startdat,Enddat,OfrName,PromoType,PromoTypeTxt,OfferGuid,toCampaign/CampaignId,toCampaign/CampaignName">
							<Table>
								<dragDropConfig>
									<dnd:DragInfo groupName="itemsgroup" sourceAggregation="items"/>
									<dnd:DropInfo drop="onStellPlatzItemDelete"/>
								</dragDropConfig>
								<columns>
									<Column width="10%">
										<Text text=""/>
									</Column>
									<Column width="50%">
										<Text text="Angebot"/>
										<customData>
											<core:CustomData key="p13nData"
												value='\{"sortProperty": "OfrName", "filterProperty": "OfrName", "columnKey": "OfrName", "leadingProperty": "OfrName" , "columnIndex":"1"}'/>
										</customData>
									</Column>
									<Column>
										<Text text="Kampagne"/>
									</Column>
									<Column>
										<customData>
											<core:CustomData key="p13nData"
												value='\{"sortProperty": "PromoTypeTxt", "filterProperty": "PromoTypeTxt", "columnKey": "PromoTypeTxt", "leadingProperty": "PromoTypeTxt" , "columnIndex":"3"}'/>
										</customData>
										<Text text="Art" width="20%"/>
									</Column>
								</columns>
								<items>
									<ColumnListItem>
										<cells>
											<poly:IconHover src="{ parts: [ {path: 'Startdat' }, { path: 'Enddat' } ], formatter: '.formatter.getAngebotStatus'}"
												color="{ parts: [ {path: 'Startdat' }, { path: 'Enddat' } ], formatter: '.formatter.getAngebotColor'}" size="2.5em"
												hover="onAngebotSelectIconHover" class="zPolyIconHover"></poly:IconHover>
											<StandardListItem title="{ZzExtOfrId}" description="{OfrName}" class="zPolySqueezedArticle" wrapping="true"></StandardListItem>
											<ObjectIdentifier title="{ parts: [ { path: 'toCampaign' } ], formatter: '.formatter.getFirstCampaignId' }"
												text="{ parts: [ { path: 'toCampaign' } ], formatter: '.formatter.getFirstCampaignName' }"/>
											<Text text="{path: 'PromoTypeTxt', formatter: '.formatter.getFirstWord' }"/>
										</cells>
									</ColumnListItem>
								</items>
							</Table>
						</smart:SmartTable>
					</ScrollContainer>
				</IconTabFilter>
				<IconTabFilter text="Artikel ohne Angebote" key="Artikel">
					<SearchField width="90%" class="sapUiSmallMargin" search="onArtikelSearch"/>
					<ScrollContainer height="500px" width="100%" vertical="true" focusable="true">
						<List id="idArtikelList">
							<dragDropConfig>
								<dnd:DragInfo groupName="itemsgroup" sourceAggregation="items"/>
								<dnd:DropInfo drop="onStellPlatzItemDelete"/>
							</dragDropConfig>
						</List>
					</ScrollContainer>
				</IconTabFilter>
			</items>
			<layoutData>
				<l:SplitterLayoutData size="50%" resizable="false"/>
			</layoutData>
		</IconTabBar>
		<VBox>
			<Label text="StellplÃ¤tze"></Label>
			<items>
				<ScrollContainer id="idStellPlatzContainer" vertical="true">
					<List id="idStellPlatz"></List>
				</ScrollContainer>
				<!--<poly:StellPlatz id="IdStellPlatz"></poly:StellPlatz>-->
			</items>
			<layoutData>
				<l:SplitterLayoutData size="50%" resizable="false"/>
			</layoutData>
		</VBox>
	</l:Splitter>
</core:FragmentDefinition>